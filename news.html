<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIET NAM TO YOU TOURISM COMPANY LIMITED - News</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="popup/popup.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="images/VN TO YOU LOGO.png" alt="VIET NAM TO YOU TOURISM COMPANY LIMITED" class="img-fluid"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Introduction</a></li>
                    <li class="nav-item"><a class="nav-link" href="tour.html">Tours</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    <li class="nav-item"><a class="nav-link active" href="news.html">News</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-primary text-white text-center py-5">
        <div class="container">
            <h1>Latest News</h1>
            <p>Stay updated with the latest information and travel trends from VIET NAM TO YOU TOURISM COMPANY LIMITED.</p>
        </div>
    </header>

    <section class="py-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="category" class="form-label">Select Category:</label>
                    <select class="form-select" id="category">
                        <option value="all">All</option>
                        <option value="Tour Má»›i">New Tours</option>
                        <option value="Khuyáº¿n MÃ£i">Promotions</option>
                        <option value="Sá»± Kiá»‡n">Events</option>
                        <option value="Xu HÆ°á»›ng">Trends</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="sort" class="form-label">Sort:</label>
                    <select class="form-select" id="sort">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                    </select>
                </div>
            </div>
            <div class="row" id="news-list">
                <!-- News sáº½ Ä‘Æ°á»£c load tá»± Ä‘á»™ng báº±ng JavaScript -->
            </div>
        </div>
    </section>

    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; 2025 VIET NAM TO YOU TOURISM COMPANY LIMITED. All rights reserved.</p>
                </div>
                <div class="col-md-6">
                    <div class="contact-footer">
                        <p class="mb-2"><strong>Contact us:</strong></p>
                        <p class="mb-1">
                            <i class="fas fa-map-marker-alt me-2"></i>
                            Address: No. 5TT1 Alley 537 Bat Khoi Str, Long Bien Dist, Hanoi, Vietnam
                        </p>
                        <p class="mb-1">
                            <a href="mailto:SALES@VNTOYOU.NET" class="text-white text-decoration-none">
                                ðŸ“§ Email: SALES@VNTOYOU.NET
                            </a>
                        </p>
                        <p class="mb-1">
                            <a href="tel:+84904596505" class="text-white text-decoration-none">
                                ðŸ“± Hotline: +84 904 596 505 (Ms. Ngan)
                            </a>
                        </p>
                        <p class="mb-0">
                            <a href="https://wa.me/84904596505" class="text-white text-decoration-none" target="_blank">
                                ðŸ’¬ WhatsApp: +84 904 596 505 (Ms. Ngan)
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" onclick="scrollToTop()">
        â†‘
    </button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts/contact-manager.js"></script>
    <script src="popup/popup.js"></script>
    <script>
        let allNews = []; // LÆ°u trá»¯ táº¥t cáº£ tin tá»©c

        // Load news tá»« JSON
        async function loadNews() {
            try {
                const response = await fetch('news/data/news.json');
                allNews = await response.json();
                displayNews(allNews);
            } catch (error) {
                console.error('Lá»—i load tin tá»©c:', error);
                const newsList = document.getElementById('news-list');
                if (newsList) {
                    newsList.innerHTML = '<div class="col-12"><div class="alert alert-danger">KhÃ´ng thá»ƒ táº£i tin tá»©c. Vui lÃ²ng thá»­ láº¡i sau.</div></div>';
                }
            }
        }

        // Format date
        function formatDate(dateString) {
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'Asia/Ho_Chi_Minh'
            };
            return new Date(dateString).toLocaleDateString('vi-VN', options);
        }

        // Hiá»ƒn thá»‹ tin tá»©c
        function displayNews(newsList) {
            const newsContainer = document.getElementById('news-list');
            newsContainer.innerHTML = '';

            if (newsList.length === 0) {
                newsContainer.innerHTML = '<div class="col-12"><div class="alert alert-info">No news available.</div></div>';
                return;
            }

            newsList.forEach(news => {
                const newsCard = `
                    <div class="col-md-4 mb-4" data-category="${news.category}" data-date="${news.date}">
                        <div class="card h-100">
                            <img src="${news.image}" class="card-img-top news-card-img" alt="${news.title}" onerror="this.src='https://via.placeholder.com/300x200?text=Tin+Tá»©c'">
                            <div class="card-body d-flex flex-column">
                                <div class="mb-2">
                                    <span class="badge bg-primary">${news.category}</span>
                                </div>
                                <h5 class="card-title">${news.title}</h5>
                                <p class="card-text flex-grow-1">${news.summary}</p>
                                <div class="mt-auto">
                                    <small class="text-muted">Date: ${formatDate(news.date)}</small>
                                    <div class="mt-2">
                                        <a href="news/details/news-detail.html?id=${news.id}" class="btn btn-primary">Read More</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                newsContainer.innerHTML += newsCard;
            });
        }

        // Filter tin tá»©c
        function filterNews() {
            const categoryFilter = document.getElementById('category').value;
            const sortFilter = document.getElementById('sort').value;

            let filteredNews = [...allNews];

            // Filter theo danh má»¥c
            if (categoryFilter !== 'all') {
                filteredNews = filteredNews.filter(news => news.category === categoryFilter);
            }

            // Sort by date
            filteredNews.sort((a, b) => {
                const dateA = new Date(a.date);
                const dateB = new Date(b.date);
                
                if (sortFilter === 'newest') {
                    return dateB - dateA; // Má»›i nháº¥t trÆ°á»›c
                } else {
                    return dateA - dateB; // CÅ© nháº¥t trÆ°á»›c
                }
            });

            displayNews(filteredNews);
        }

        // Khá»Ÿi táº¡o
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            
            const categoryFilter = document.getElementById('category');
            const sortFilter = document.getElementById('sort');
            
            categoryFilter.addEventListener('change', filterNews);
            sortFilter.addEventListener('change', filterNews);
        });

        // Back to Top functionality
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Show/hide back to top button based on scroll position
        window.addEventListener('scroll', function() {
            const backToTopButton = document.querySelector('.back-to-top');
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('show');
            } else {
                backToTopButton.classList.remove('show');
            }
        });
    </script>
    
    <!-- Font Accessibility Controls -->
    <script src="scripts/font-accessibility.js"></script>
</body>
</html>