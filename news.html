<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VN To You Asia - News</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="images/VN TO YOU LOGO.png" alt="VN To You Asia" class="img-fluid"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Introduction</a></li>
                    <li class="nav-item"><a class="nav-link" href="tour.html">Tours</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                    <li class="nav-item"><a class="nav-link active" href="news.html">News</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-primary text-white text-center py-5">
        <div class="container">
            <h1>Latest News</h1>
            <p>Stay updated with the latest information and travel trends from VN To You Asia.</p>
        </div>
    </header>

    <section class="py-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="category" class="form-label">Select Category:</label>
                    <select class="form-select" id="category">
                        <option value="all">All</option>
                        <option value="Tour M·ªõi">New Tours</option>
                        <option value="Khuy·∫øn M√£i">Promotions</option>
                        <option value="S·ª± Ki·ªán">Events</option>
                        <option value="Xu H∆∞·ªõng">Trends</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <label for="sort" class="form-label">Sort:</label>
                    <select class="form-select" id="sort">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                    </select>
                </div>
            </div>
            <div class="row" id="news-list">
                <!-- News s·∫Ω ƒë∆∞·ª£c load t·ª± ƒë·ªông b·∫±ng JavaScript -->
            </div>
        </div>
    </section>

    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; 2025 VN To You Asia. All rights reserved.</p>
                </div>
                <div class="col-md-6">
                    <div class="contact-footer">
                        <p class="mb-2"><strong>Contact us:</strong></p>
                        <p class="mb-1">
                            <a href="mailto:info@vntoyouasia.com" class="text-white text-decoration-none">
                                üìß Email: info@vntoyouasia.com
                            </a>
                        </p>
                        <p class="mb-1">
                            <a href="tel:+84123456789" class="text-white text-decoration-none">
                                üì± ƒêi·ªán tho·∫°i: +84 123 456 789
                            </a>
                        </p>
                        <p class="mb-0">
                            <a href="https://wa.me/84123456789" class="text-white text-decoration-none" target="_blank">
                                üí¨ WhatsApp: +84 123 456 789
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let allNews = []; // L∆∞u tr·ªØ t·∫•t c·∫£ tin t·ª©c

        // Load news t·ª´ JSON
        async function loadNews() {
            try {
                const response = await fetch('news/data/news.json');
                allNews = await response.json();
                displayNews(allNews);
            } catch (error) {
                console.error('L·ªói load tin t·ª©c:', error);
                const newsList = document.getElementById('news-list');
                if (newsList) {
                    newsList.innerHTML = '<div class="col-12"><div class="alert alert-danger">Kh√¥ng th·ªÉ t·∫£i tin t·ª©c. Vui l√≤ng th·ª≠ l·∫°i sau.</div></div>';
                }
            }
        }

        // Format date
        function formatDate(dateString) {
            const options = { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                timeZone: 'Asia/Ho_Chi_Minh'
            };
            return new Date(dateString).toLocaleDateString('vi-VN', options);
        }

        // Hi·ªÉn th·ªã tin t·ª©c
        function displayNews(newsList) {
            const newsContainer = document.getElementById('news-list');
            newsContainer.innerHTML = '';

            if (newsList.length === 0) {
                newsContainer.innerHTML = '<div class="col-12"><div class="alert alert-info">Kh√¥ng c√≥ tin t·ª©c n√†o.</div></div>';
                return;
            }

            newsList.forEach(news => {
                const newsCard = `
                    <div class="col-md-4 mb-4" data-category="${news.category}" data-date="${news.date}">
                        <div class="card h-100">
                            <img src="${news.image}" class="card-img-top" alt="${news.title}" onerror="this.src='https://via.placeholder.com/300x200?text=Tin+T·ª©c'" style="height: 200px; object-fit: cover;">
                            <div class="card-body d-flex flex-column">
                                <div class="mb-2">
                                    <span class="badge bg-primary">${news.category}</span>
                                </div>
                                <h5 class="card-title">${news.title}</h5>
                                <p class="card-text flex-grow-1">${news.summary}</p>
                                <div class="mt-auto">
                                    <small class="text-muted">Ng√†y ${formatDate(news.date)}</small>
                                    <div class="mt-2">
                                        <a href="news/details/news-detail.html?id=${news.id}" class="btn btn-primary">ƒê·ªçc Th√™m</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                newsContainer.innerHTML += newsCard;
            });
        }

        // Filter tin t·ª©c
        function filterNews() {
            const categoryFilter = document.getElementById('category').value;
            const sortFilter = document.getElementById('sort').value;

            let filteredNews = [...allNews];

            // Filter theo danh m·ª•c
            if (categoryFilter !== 'all') {
                filteredNews = filteredNews.filter(news => news.category === categoryFilter);
            }

            // Sort theo ng√†y
            filteredNews.sort((a, b) => {
                const dateA = new Date(a.date);
                const dateB = new Date(b.date);
                
                if (sortFilter === 'newest') {
                    return dateB - dateA; // M·ªõi nh·∫•t tr∆∞·ªõc
                } else {
                    return dateA - dateB; // C≈© nh·∫•t tr∆∞·ªõc
                }
            });

            displayNews(filteredNews);
        }

        // Kh·ªüi t·∫°o
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            
            const categoryFilter = document.getElementById('category');
            const sortFilter = document.getElementById('sort');
            
            categoryFilter.addEventListener('change', filterNews);
            sortFilter.addEventListener('change', filterNews);
        });
    </script>
</body>
</html>